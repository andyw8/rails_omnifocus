# rails_omnifocus

This is a very simple Rails app which allows Rails to read from Omnifocus's sqlite3 database.

The models and associations were generated by an LLM, so may not be correct.

There are no views or controllers yet, only models, so you need to interact it with it via the Rails console.

I have followed the naming as used in the database rather than the app, e.g. `ProjectInfo` instead of `Project`.

This is only intended for reading, not writing. You could easily corrupt the OmniFocus database by modifying.

## Configuration

Add a `.env` file which defines the path to your database, e.g.:

```
OMNIFOCUS_DB_PATH="/Users/andy/Library/Group\ Containers/ABC123.com.omnigroup.OmniFocus/com.omnigroup.OmniFocus4/com.omnigroup.OmniFocusModel/OmniFocusDatabase.db"
```

## Demo

```
rails_omnifocus main % bin/rails c
Loading development environment (Rails 8.0.2)
rails-omnifocus(dev)> project = ProjectInfo.first
  ProjectInfo Load (0.4ms)  SELECT "ProjectInfo".* FROM "ProjectInfo" ORDER BY "ProjectInfo"."pk" ASC LIMIT 1 /*application='RailsOmnifocus'*/
=>
#<ProjectInfo:0x000000011f87c718
...
rails-omnifocus(dev)> project.tasks.count
  Task Count (0.1ms)  SELECT COUNT(*) FROM "Task" WHERE "Task"."projectinfo" = 'ahr9D4mR7A4' /*application='RailsOmnifocus'*/
=> 1
```
